{"version":3,"sources":["views/Home.js","views/ColorTilesGame.js","lib/map.js","views/QuestMap.js","lib/monsters.js","views/Monster.js","App.js","index.js","img/tiles/blue.png","img/tiles/red.png","img/monsters/se_ifmo_ru.png","img/tiles/yellow.png","img/tiles/green.png"],"names":["Home","_ref","id","go","user","react_default","a","createElement","vkui","activePanel","title","before","photo_200","src","description","city","concat","first_name","last_name","style","textAlign","size","level","onClick","data-to","stretched","ColorTilesGame","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","tileSelected","color","console","log","state","field","expectedPosition","initTask","answers","setState","currentPosition","nextTile","directions","x","y","direction","Math","floor","random","offset","relRoutes","routes","slice","reverse","initTaskTileSelected","theme","left","PanelHeaderBack_default","className","backgroundImage","blueTile","redTile","yellowTile","greenTile","React","Component","nodeLocations","QuestMap","renderMapNode","nodeStates","key","cx","cy","r","data-monster-id","renderSvgMap","1","2","3","4","5","6","xmlns","width","height","viewBox","map","monsters","name","sprite","seIfmoRu","spriteDefeated","correctQr","hint","Monster","setView","view","applyQrCode","send","VKWebAppOpenQRResult","matchesExpected","qr_data","completed","VKWebAppOpenQRFailed","_","monster","monsterId","renderIntroPanel","renderHintPanel","renderActionPanel","renderResultPanel","_ref2","alt","_ref3","PanelHeaderClose_default","children","_ref4","_ref5","Fragment","failed","App","e","_e$currentTarget$data","currentTarget","dataset","to","objectWithoutProperties","perViewProps","objectSpread","defineProperty","sendConnectRequest","method","args","callbacks","connectCallbacks","connect","tryInvokeEventCallback","type","data","callback","undefined","activeView","views_Home","ColorTilesGame_ColorTilesGame","QuestMap_QuestMap","Monster_Monster","assign","_this2","subscribe","detail","handler","ReactDOM","render","App_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.87a8ab57.chunk.js","sourcesContent":["import React from 'react';\nimport { View, Panel, ListItem, Button, Group, Div, Avatar, PanelHeader } from '@vkontakte/vkui';\n\nconst Home = ({ id, go, user }) => (\n  <View id={id} activePanel=\"main\">\n    <Panel id=\"main\">\n      <PanelHeader>Квест</PanelHeader>\n      {user &&\n        <Group title=\"Привет\">\n          <ListItem\n            before={user.photo_200 ? <Avatar src={user.photo_200} /> : null}\n            description={(user.city && user.city.title) || ''}>\n            {`${user.first_name} ${user.last_name}`}\n          </ListItem>\n        </Group>}\n\n      <Group title=\"Выбери свой цвет\">\n        <Div style={{ textAlign: \"center\" }}>\n          <Button size=\"l\" level=\"1\" onClick={go} data-to=\"color-tiles-game\">Поехали</Button>\n        </Div>\n      </Group>\n\n      <Group title=\"Карта квеста\">\n        <Div style={{ textAlign: \"center\" }}>\n          <Button size=\"l\" level=\"1\" stretched={true} onClick={go} data-to=\"quest-map\">Посмотреть</Button>\n        </Div>\n      </Group>\n    </Panel>\n  </View>\n);\n\nexport default Home;\n","import React from 'react';\nimport { View, Panel, PanelHeader, Div } from '@vkontakte/vkui';\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport '../css/ColorTilesGame.css';\nimport blueTile from '../img/tiles/blue.png';\nimport yellowTile from '../img/tiles/yellow.png';\nimport redTile from '../img/tiles/red.png';\nimport greenTile from '../img/tiles/green.png';\n\nexport default class ColorTilesGame extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      directions: 'Синяя или красная?',\n      answers: 0,\n      field: [\n        ['g', 'y', 'r', 'g', 'b', 'r'],\n        ['r', 'b', 'y', 'r', 'g', 'y'],\n        ['y', 'r', 'g', 'b', 'y', 'g'],\n        ['r', 'b', 'y', 'r', 'b', 'r'],\n        ['b', 'r', 'g', 'y', 'r', 'y'],\n        ['r', 'g', 'b', 'r', 'b', 'g']\n      ],\n      expectedPosition: [-1, -1],\n      initTask: true,\n      currentPosition: [-1, -1],\n      routes: ['left', 'up', 'right', 'down']\n    };\n  }\n\n  tileSelected = (color) => () => {\n    console.log(this.state.field[this.state.expectedPosition[0]]              \n      [this.state.expectedPosition[1]]);\n    if (this.state.initTask) {\n      return;\n    }\n    if (color != this.state.field[this.state.expectedPosition[0]]\n      [this.state.expectedPosition[1]]) {\n      this.setState({ initTask: true, answers: 0, directions: 'Неверно, попробуем ещё раз' });\n      return;\n    }\n    if (this.state.answers === 3) {\n      this.setState({ directions: 'Поздравляем, ты прошел игру)' });\n      return;\n    }\n    this.setState({ currentPosition: this.state.expectedPosition });\n    this.nextTile(this.state.expectedPosition[0], this.state.expectedPosition[1]);\n\n    this.setState({ answers: this.state.answers + 1 });\n  }\n\n  nextTile = (x, y) => {\n    var direction = Math.floor(Math.random() * 4); // random int [0; 3]\n    // 0 - left, 1 - up, 2 - right, 3 - down\n    while (\n      (direction == 0 && y == 0) ||\n      (direction == 1 && x == 0) ||\n      (direction == 2 && y == 5) ||\n      (direction == 3 && x == 5)\n    )\n      direction = Math.floor(Math.random() * 4);\n    var offset = 0, relRoutes = this.state.routes;\n    if (this.state.initTask)\n      relRoutes = ['left', 'up', 'right', 'down'];\n    switch (direction) {\n      case 0:\n        relRoutes = relRoutes.slice(1).concat(relRoutes.slice(0,1));\n        offset = 1 + Math.floor(Math.random() * y);\n        this.setState({ expectedPosition: [x, y - offset] });\n        break;\n      case 1:\n        offset = 1 + Math.floor(Math.random() * x);\n        this.setState({ expectedPosition: [x - offset, y] });\n        break;\n      case 2:\n        relRoutes = relRoutes.slice(1).reverse().concat(relRoutes.slice(0,1));\n        offset = 1 + Math.floor(Math.random() * (5 - y));\n        this.setState({ expectedPosition: [x, y + offset] });\n        break;\n      case 3:\n        relRoutes = relRoutes.slice(2).concat(relRoutes.slice(0,2));\n        offset = 1 + Math.floor(Math.random() * (5 - x));\n        this.setState({ expectedPosition: [x + offset, y] });\n        break;\n    }\n    this.setState({ directions: `${this.state.routes[direction]}, ${offset}`, routes: relRoutes });\n  }\n\n  initTaskTileSelected = (color) => () => {\n    var x = 5, y;\n    if (color == 'b')\n      y = 2;\n    else\n      y = 3;\n    this.setState({ initTask: false, currentPosition: [x, y] });\n    this.nextTile(x, y);\n  }\n\n  render() {\n    return (\n      <View id={this.props.id} activePanel={this.state.initTask ? 'color-tiles-init-task' : 'color-tiles-main'}>\n        <Panel id=\"color-tiles-init-task\" theme=\"white\">\n          <PanelHeader left={<PanelHeaderBack onClick={this.props.go} data-to=\"home\" />}>\n            Какой цвет твой?\n          </PanelHeader>\n          <Div>\n            <div className=\"tile-directions\">{this.state.directions}</div>\n            <div className=\"tile-row\">\n              <button onClick={this.initTaskTileSelected('b')} className=\"tile-button\" style={{ backgroundImage: `url('${blueTile}')` }} />\n              <button onClick={this.initTaskTileSelected('r')} className=\"tile-button\" style={{ backgroundImage: `url('${redTile}')` }} />\n            </div>\n          </Div>\n        </Panel>\n        <Panel id=\"color-tiles-main\" theme=\"white\">\n          <PanelHeader left={<PanelHeaderBack onClick={this.props.go} data-to=\"home\" />}>\n            Какой цвет твой?\n          </PanelHeader>\n          <Div>\n            <div className=\"tile-directions\">{this.state.directions}</div>\n            <div className=\"tile-row\">\n              <button onClick={this.tileSelected('b')} className=\"tile-button\" style={{ backgroundImage: `url('${blueTile}')` }} />\n              <button onClick={this.tileSelected('r')} className=\"tile-button\" style={{ backgroundImage: `url('${redTile}')` }} />\n            </div>\n            <div className=\"tile-row\">\n              <button onClick={this.tileSelected('y')} className=\"tile-button\" style={{ backgroundImage: `url('${yellowTile}')` }} />\n              <button onClick={this.tileSelected('g')} className=\"tile-button\" style={{ backgroundImage: `url('${greenTile}')` }} />\n            </div>\n            <div className=\"tile-help\">\n              Встань лицом к каталогу Аббе\n            </div>\n          </Div>\n        </Panel>\n      </View>\n    );\n  }\n}\n","export const nodeLocations = [\n  { x: 34, y: 8, id: 6 },\n  { x: 12, y: 35, id: 5 },\n  { x: 52, y: 52, id: 4 },\n  { x: 7, y: 76, id: 3 },\n  { x: 56, y: 94, id: 2 },\n  { x: 30, y: 128, id: 1 }\n];\n\nexport const initialSavestate = {};\n\nexport function updateSavestateOnCompletion(oldSavestate, monsterId) {\n  return { [monsterId]: true, ...oldSavestate }; // ???\n}\n\nexport function computeNodeStates(savestate) {\n  return { 1: 'completed', 2: 'available', 3: 'locked', 4: 'locked', 5: 'locked', 6: 'locked' }\n}\n","import React from 'react';\nimport { View, Panel, PanelHeader, Div } from '@vkontakte/vkui';\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport '../css/QuestMap.css';\nimport { nodeLocations, computeNodeStates } from '../lib/map';\n\nexport default class QuestMap extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <View id={this.props.id} activePanel=\"quest-map-main\">\n        <Panel id=\"quest-map-main\" theme=\"white\">\n          <PanelHeader left={<PanelHeaderBack onClick={this.props.go} data-to=\"home\" />}>\n            Карта\n          </PanelHeader>\n          <Div style={{ textAlign: \"center\" }}>{this.renderSvgMap()}</Div>\n        </Panel>\n      </View>\n    );\n  }\n\n  renderSvgMap() {\n    const nodeStates = computeNodeStates(null /* savestate */);\n    return (\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"240\" height=\"510\" viewBox=\"0 0 63.5 134.9\">\n        {nodeLocations.map(this.renderMapNode(nodeStates))}\n      </svg>\n    );\n  }\n\n  renderMapNode = (nodeStates) => ({ x, y, id }) => {\n    switch (nodeStates[id]) {\n      case 'completed':\n        return <circle key={id} cx={x} cy={y} r=\"6\" className=\"map-node--completed\" />;\n      case 'locked':\n        return <circle key={id} cx={x} cy={y} r=\"6\" className=\"map-node--locked\" />\n      case 'available':\n        return <circle key={id} cx={x} cy={y} r=\"6\" className=\"map-node--available\"\n          onClick={this.props.go} data-to=\"monster\" data-monster-id={id} />;\n    }\n  }\n}\n","import React from 'react';\nimport seIfmoRu from '../img/monsters/se_ifmo_ru.png';\n\nconst monsters = {\n  2: {\n    name: 'Утиная типизация',\n    sprite: seIfmoRu,\n    spriteDefeated: seIfmoRu,\n    description: 'И сколько в твоем интерпретаторе сегфолтов?',\n    correctQr: 'test',\n    hint: (\n      <p>\n        Добрый день, я Утинатор, и сегодня я хочу рассказать вам о том,\n        почему вы должны бросить все дела и заставить себя учить Форт.\n      </p>\n    )\n  }\n};\n\nexport default monsters;\n","import React from 'react';\nimport { View, Panel, PanelHeader, Div, Button } from '@vkontakte/vkui';\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport PanelHeaderClose from '@vkontakte/vkui/dist/components/PanelHeaderClose/PanelHeaderClose';\nimport '../css/Monster.css';\nimport monsters from '../lib/monsters';\n\nexport default class Monster extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { view: 'monster-intro' }\n  }\n\n  render() {\n    const monster = monsters[this.props.monsterId];\n    return (\n      <View id={this.props.id} activePanel={this.state.view}>\n        {this.renderIntroPanel(monster)}\n        {this.renderHintPanel(monster)}\n        {this.renderActionPanel(monster)}\n        {this.renderResultPanel(monster)}\n      </View>\n    );\n  }\n\n  setView = (view) => () => this.setState({ view });\n\n  renderIntroPanel({ name, sprite, description }) {\n    return (\n      <Panel id=\"monster-intro\" theme=\"white\">\n        <PanelHeader left={<PanelHeaderBack onClick={this.props.go} data-to=\"quest-map\" />}>\n          {name}\n        </PanelHeader>\n        <Div style={{ textAlign: \"center\" }}>\n          <img className=\"monster-sprite\" alt={name} src={sprite} />\n          <p>{description}</p>\n          <div className=\"button-row\">\n            <Button size=\"l\" level=\"1\" onClick={this.setView('monster-action')}>В бой</Button>\n            <Button size=\"l\" level=\"2\" onClick={this.setView('monster-hint')}>Подсказка</Button>\n          </div>\n        </Div>\n      </Panel>\n    );\n  }\n\n  renderHintPanel({ name, hint }) {\n    return (\n      <Panel id=\"monster-hint\" theme=\"white\">\n        <PanelHeader left={<PanelHeaderClose children=\"Закрыть\" onClick={this.setView('monster-intro')} />}>\n          {name}\n        </PanelHeader>\n        <Div style={{ textAlign: \"center\" }}>{hint}</Div>\n      </Panel>\n    );\n  }\n\n  renderActionPanel({ name, correctQr }) {\n    return (\n      <Panel id=\"monster-action\" theme=\"white\">\n        <PanelHeader left={<PanelHeaderClose children=\"Закрыть\" onClick={this.setView('monster-intro')} />}>\n          {name}\n        </PanelHeader>\n        <Div style={{ textAlign: \"center\" }}>\n          <div>\n            <Button size=\"l\" level=\"1\" onClick={this.applyQrCode(correctQr)}>Применить</Button>\n          </div>\n        </Div>\n      </Panel>\n    );\n  }\n\n  applyQrCode = (correctQr) => () => {\n    this.props.send('VKWebAppOpenQR', {}, {\n      VKWebAppOpenQRResult: ({ qr_data }) => {\n        const matchesExpected = qr_data == correctQr;\n        this.setState({ view: 'monster-result', completed: matchesExpected });\n      },\n      VKWebAppOpenQRFailed: (_) => {\n        this.setState({ view: 'monster-result', completed: false });\n      }\n    });\n  }\n\n  renderResultPanel({ name, spriteDefeated }) {\n    const completed = <>\n      <img className=\"monster-sprite\" alt={name} src={spriteDefeated} />\n      <p>Поздравляем, ты победил!</p>\n      <Button size=\"l\" level=\"1\" onClick={this.props.go} data-to=\"quest-map\">Далее</Button>\n    </>;\n    const failed = <>\n      <p>Очень жаль, но код неправильный :/</p>\n      <Button size=\"l\" level=\"1\" onClick={this.setView('monster-action')}>Вернуться</Button>\n    </>;\n    return (\n      <Panel id=\"monster-result\" theme=\"white\">\n        <PanelHeader>{name}</PanelHeader>\n        <Div style={{ textAlign: \"center\" }}>\n          {this.state.completed ? completed : failed}\n        </Div>\n      </Panel>\n    );\n  }\n}\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { Root } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './views/Home';\nimport ColorTilesGame from './views/ColorTilesGame';\nimport QuestMap from './views/QuestMap';\nimport Monster from './views/Monster';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      view: 'home',\n      perViewProps: {},\n      user: null,\n      connectCallbacks: {}\n    };\n  }\n\n  render() {\n    return (\n      <Root activeView={this.state.view}>\n        <Home id=\"home\" user={this.state.user} go={this.go} />\n        <ColorTilesGame id=\"color-tiles-game\" go={this.go} />\n        <QuestMap id=\"quest-map\" go={this.go} />\n        <Monster id=\"monster\" go={this.go} send={this.sendConnectRequest}\n          {...this.state.perViewProps['monster']} />\n      </Root>\n    );\n  }\n\n  go = (e) => {\n    const { to, ...props } = e.currentTarget.dataset;\n    this.setState({ view: to, perViewProps: { [to]: props, ...this.state.perViewProps } });\n  };\n\n  /* callbacks is an object of { event type (string): callback function } */\n  sendConnectRequest = (method, args, callbacks) => {\n    this.setState({ connectCallbacks: callbacks });\n    connect.send(method, args);\n  }\n\n  tryInvokeEventCallback = (type, data) => {\n    const callback = this.state.connectCallbacks[type];\n    if (!callback) return false;\n\n    callback(data);\n    this.setState({ connectCallbacks: { ...this.state.connectCallbacks, [type]: undefined } });\n    return true;\n  }\n\n  componentDidMount() {\n    connect.subscribe((e) => {\n      switch (e.detail.type) {\n        case 'VKWebAppGetUserInfoResult':\n          this.setState({ user: e.detail.data });\n          break;\n        default:\n          if (!this.tryInvokeEventCallback(e.detail.type, e.detail.data)) {\n            if (e.detail.handler === 'VKWebAppOpenQR' &&\n              this.tryInvokeEventCallback('VKWebAppOpenQRResult', { qr_data: 'test' })) {\n              /* FIXME: remove later, this is a development hack to mock the API method */\n            }\n            else {\n              console.log(`Unhandled connect event: ${e.detail.type}`);\n            }\n          }\n      }\n    });\n    connect.send('VKWebAppGetUserInfo', {});\n  }\n}\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/blue.34464695.png\";","module.exports = __webpack_public_path__ + \"static/media/red.c083d19b.png\";","module.exports = __webpack_public_path__ + \"static/media/se_ifmo_ru.ea83b28a.png\";","module.exports = __webpack_public_path__ + \"static/media/yellow.fc931dc4.png\";","module.exports = __webpack_public_path__ + \"static/media/green.1799831c.png\";"],"sourceRoot":""}